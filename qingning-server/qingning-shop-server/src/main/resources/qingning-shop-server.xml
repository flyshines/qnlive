<?xml version="1.0" encoding="UTF-8"?>
<servers>

	<server name="ShopServer">
		<default class="qingning.shop.server.imp.ShopServerImpl">
			<!--开通店铺-->
			<function name="shopOpen">
				<auth>
					<accessToken require="Y" />

					<timesLimit millisecond="500" />
				</auth>
				<inputs>
				</inputs>
				<outputs>
				</outputs>
			</function>
			<!--获取扫码链接-->
			<function name="wechatLogin">
				<auth>
					<accessToken require="N" />
					<version require="N" />
				</auth>
				<inputs>
				</inputs>
				<outputs>
				</outputs>
			</function>

			<!--店铺-店铺信息-->
			<function name="shopInfo">
				<auth>
					<accessToken require="Y" />
					<version require="N" />
				</auth>
				<inputs>
				</inputs>
				<outputs>
					<param name="user_id" type="string" />
					<param name="avatar_address" type="string"/>
					<param name="shop_id" type="string" />
					<param name="shop_name" type="string" />
					<param name="shop_url" type="string" />
					<param name="shop_remark" type="string"/>
					<param name="shop_logo" type="string" />
					<param name="weixin_code" type="string"/>
					<param name="nick_name" type="string" />
					<param name="phone_num" type="string" />
					<param name="open_sharing" type="string" />
					<param name="shop_preview_url" type="string"/>
					<param name="pc_introduce_url" type="string" />
					<param name="use_url" type="string" />
					<param name="live_url" type="string" />
					<param name="lecturer_title" type="string" />
					<param name="lecturer_identity" type="string" />
				</outputs>
			</function>
			<!--店铺-轮播图列表-->
			<function name="shopBannerList">
				<auth>
					<accessToken require="Y" />
					<version require="Y" />
				</auth>
				<inputs>
				</inputs>
				<outputs>

				</outputs>
			</function>

			<!--店铺-店铺设置-->
			<function name="shopEdit">
				<auth>
					<accessToken require="N" />
					<version require="N" />
				</auth>
				<inputs>
					<param name="shop_name" type="string" require="N"/>
					<param name="shop_remark" type="string" require="N"/>
					<param name="shop_logo" type="string" require="N"/>
				</inputs>
				<outputs>
				</outputs>
			</function>
			<!--店铺-添加轮播图-->
			<function name="shopBannerAdd">
				<auth>
					<accessToken require="Y" />
					<version require="N" />
				</auth>
				<inputs>
					<param name="banner_title" type="string" require="Y,000100"/>
					<param name="banner_name" type="string" require="N"/>
					<param name="banner_img" type="string" require="Y,000100"/>
					<param name="link_type" type="string" require="Y,000100" format="0|1|2|3|4|5|6,000004" />
					<param name="link_id" type="string" require="N" />
					<param name="link_to" type="string" require="N" />
					<param name="position" type="long" require="N" />
				</inputs>
				<outputs>
				</outputs>
			</function>
			<!--店铺-轮播图信息-->
			<function name="shopBannerInfo">
				<auth>
					<accessToken require="Y" />
					<version require="N" />
				</auth>
				<inputs>
					<param name="banner_id" type="string" require="Y,000100"/>
				</inputs>
				<outputs>
					<param name="banner_id" type="string" />
					<param name="banner_img" type="string" />
					<param name="banner_name" type="string" />
					<param name="banner_title" type="string" />
					<param name="link_type" type="string" />
					<param name="link_to" type="string" />
					<param name="link_id" type="string" />
					<param name="position" type="long" require="N"/>
				</outputs>
			</function>
			<!--店铺-轮播图编辑-->
			<function name="shopBannerEdit">
				<auth>
					<accessToken require="Y" />
					<version require="N" />
				</auth>
				<inputs>
					<param name="banner_title" type="string" require="Y,000100"/>
					<param name="banner_name" type="string" require="Y,000100"/>
					<param name="banner_img" type="string" require="Y,000100"/>
					<param name="link_type" type="string" require="Y,000100" />
					<param name="link_id" type="string" require="N"/>
					<param name="position" type="long" require="N"/>
				</inputs>
				<outputs>
				</outputs>
			</function>
			<!--店铺-轮播图上下架-->
			<function name="shopBannerUpdown">
				<auth>
					<accessToken require="Y" />
					<version require="N" />
				</auth>
				<inputs>
					<param name="banner_id" type="string" require="Y,000100"/>
					<param name="type" type="string" format="1|2,000004"  require="Y,000100"/>
				</inputs>
				<outputs>
				</outputs>
			</function>
			<!-- 店铺-获取店铺轮播列表 -->
			<function name="queryShopBannerList">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="shop_id" type="string" require="Y,000100" />
				</inputs>
				<outputs>
					<param name="banner_info_list" type="list">
						<param name="banner_id" type="string" />
						<param name="banner_img" type="string" />
						<param name="banner_title" type="string" />
						<param name="link_type" type="string" />
						<param name="link_id" type="string" />
						<param name="link_to" type="string" />
					</param>
				</outputs>
			</function>
			<!--店铺-单品-添加视频、音频、图文-->
			<function name="addSingleGoods">
				<auth>
					<accessToken require="Y" />
					<version require="N" />
				</auth>
				<inputs>
					<param name="course_title" type="string" require="Y,000100"/>
					<param name="course_url" type="string" />
					<param name="course_type" type="string" />
					<param name="type" type="string" format="1|2|3,000004"/><!--0直播(其他接口添加) 1语音 2视频 3图文-->
					<param name="course_image" type="string"  require="Y,000100"/>
					<param name="price" type="double" default="0" />
					<param name="details" type="string" />
					<param name="course_remark" type="string" />
					<param name="course_abstract" type="string" />
					<param name="course_duration" type="long" />
					<param name="course_updown" type="string" default="1" /><!--默认上架-->
				</inputs>
				<outputs>
				</outputs>
			</function>
			<!--店铺-系列-添加子课程-->
			<function name="addSeriesCourseChild">
				<auth>
					<accessToken require="Y" />
					<version require="N" />
				</auth>
				<inputs>
					<param name="series_id" type="string" require="Y,000100"/>
					<param name="course_title" type="string" require="Y,000100"/>
					<param name="course_url" type="string" />
					<param name="type" type="string" format="1|2|3,000004"/>
					<param name="course_image" type="string"  require="Y,000100"/>
					<param name="price" type="double" default="0" />
					<param name="details" type="string" />
					<param name="course_duration" type="long" />
				</inputs>
				<outputs>
				</outputs>
			</function>
			<!--店铺-单品-编辑-->
			<function name="editSingleGoods">
				<auth>
					<accessToken require="Y" />
					<version require="N" />
				</auth>
				<inputs>
					<param name="course_id" type="string" require="Y,000100"/>
					<param name="course_type" type="string" />
					<param name="course_title" type="string" require="N"/>
					<param name="course_url" type="string"  require="N"/>
					<param name="course_image" type="string"  require="N"/>
					<param name="price" type="double"  require="N"/>
					<param name="details" type="string"  require="N"/>
					<param name="course_abstract" type="string"  require="N"/>
					<param name="course_remark" type="string"  require="N"/>
				</inputs>
				<outputs>
				</outputs>
			</function>
			<!-- 店铺-获取店铺系列课程列表 -->
			<function name="findShopSeriesList">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="shop_id" type="string" require="Y,000100"/>
					<param name="last_series_id" type="string" require="N"/>
					<param name="page_count" type="long" require="N"/>
				</inputs>
				<outputs>
					<param name="series_info_list" type="list">
						<param name="series_id" type="string" />
						<param name="series_img_url" type="string" fieldname="series_img" />
						<param name="series_type" type="string" fieldname="series_course_type" />
						<param name="is_join" type="string" />
						<param name="series_title" type="string" />
						<param name="series_course_count" type="int" fieldname="course_num" />
						<param name="buyer_count" type="long" fieldname="series_student_num" />
						<param name="price" type="double" fieldname="series_price" />
					</param>
				</outputs>
			</function>
			<!-- 店铺-获取店铺单品直播课程列表 -->
			<function name="findShopLiveSingleList">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="shop_id" type="string" require="Y,000100"/>
					<param name="last_update_time" type="long" require="N"/>
					<param name="readed_count" type="long" require="N"/>
					<param name="page_count" type="long" require="N"/>
				</inputs>
				<outputs>
					<param name="live_info_list" type="list">
						<param name="live_id" type="string" fieldname="course_id" />
						<param name="live_img_url" type="string" fieldname="course_url" />
						<param name="live_start_time" type="long" fieldname="start_time" />
						<param name="live_end_time" type="long" fieldname="end_time" />
						<param name="live_type" type="string" fieldname="course_type" />
						<param name="is_join" type="string" />
						<param name="live_title" type="string" fieldname="course_title" />
						<param name="buyer_count" type="long" fieldname="student_num" />
						<param name="price" type="double" fieldname="course_price" />
						<param name="live_status" type="string" fieldname="status" />
					</param>
					<param name="last_update_time" type="long" />
				</outputs>
			</function>
			<!-- 店铺-获取店铺单品课程（直播除外）列表 -->
			<function name="findShopSingleCourseList">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="shop_id" type="string" require="Y,000100"/>
					<param name="last_single_id" type="string" require="N"/>
					<param name="page_count" type="long" require="N"/>
				</inputs>
				<outputs>
					<param name="single_info_list" type="list">
						<param name="single_id" type="string" fieldname="course_id" />
						<param name="single_img_url" type="string" fieldname="course_image" />
						<param name="single_type" type="string" fieldname="goods_type" />
						<param name="is_join" type="string" />
						<param name="single_title" type="string" fieldname="course_title" />
						<param name="browse_count" type="long" fieldname="click_num" />
						<param name="message_count" type="long" fieldname="comment_num" />
						<param name="price" type="double" fieldname="course_price" />
					</param>
				</outputs>
			</function>
			<function name="createCourse">
				<auth>
					<accessToken require="Y" />
					<!--<timesLimit millisecond="100" />-->
				</auth>
				<inputs>
					<param name="course_title" type="rstring" require="Y,000100" />
					<param name="classify_id" type="string" require="N" />
					<param name="live_start_time" type="long" require="N"/>
					<param name="course_type" type="string" require="Y,000100"  format="^[0-2]$,100008"/>
					<param name="shop_id" type="string" require="Y,000100"  />
					<param name="series_id" type="string" require="N"/>
					<param name="buy_tips" type="string" require="N"/>
					<param name="course_abstract" type="string" require="N"/>
					<param name="course_duration" type="string" require="N"/>
					<param name="course_image" type="string" require="N"/>
					<param name="course_remark" type="string" require="N" />
					<param name="course_updown" type="string" require="N"/>
					<param name="course_url" type="string" require="N"/>
					<param name="details" type="string" require="N"/>
					<param name="distribution_proportion" type="string" require="N"/>
					<param name="goods_type" type="string" format="^[0-3]$,100008"/>
					<param name="series_course_updown" type="string"  require="N"/>
					<param name="target_user" type="string"  require="N"/>
					<param name="course_price" type="double" require="N" validate="(course_type,course_price,course_password)=>{
						if(utils.isEqual('1', course_type)){
							if(utils.isEmpty(course_password)){
								return false;
							}
						} else if(utils.isEqual('2', course_type)){
							if(utils.isEmpty(course_price)){
								return false;
							}
						}
						return true;
					},000100"/>
					<param name="course_password" type="string" require="N" validate="(course_type,course_price,course_password)=>{
						if(utils.isEqual('1', course_type)){
							if(utils.isEmpty(course_password)){
								return false;
							}
						} else if(utils.isEqual('2', course_type)){
							if(utils.isEmpty(course_price)){
								return false;
							}
						}
						return true;
					},000100"/>
				</inputs>
				<outputs>
					<param name="course_id" type="string"/>
				</outputs>
			</function>


		</default>

		<version num="1.0.0" class="">
		</version>
	</server>

</servers>
