<?xml version="1.0" encoding="UTF-8"?>
<servers>

	<server name="ShopServer">
		<default class="qingning.shop.server.imp.ShopServerImpl">
			<!--开通店铺-->
			<function name="shopOpen">
				<auth>
					<accessToken require="Y" />

					<timesLimit millisecond="500" />
				</auth>
				<inputs>
				</inputs>
				<outputs>
				</outputs>
			</function>
			<!--获取扫码链接-->
			<function name="wechatLogin">
				<auth>
					<accessToken require="N" />
					<version require="N" />
				</auth>
				<inputs>
				</inputs>
				<outputs>
				</outputs>
			</function>

			<!--店铺-店铺信息-->
			<function name="shopInfo">
				<auth>
					<accessToken require="Y" />
					<version require="N" />
				</auth>
				<inputs>
				</inputs>
				<outputs>
					<param name="user_id" type="string" />
					<param name="avatar_address" type="string"/>
					<param name="shop_id" type="string" />
					<param name="room_id" type="string" />
					<param name="shop_name" type="string" />
					<param name="shop_url" type="string" />
					<param name="shop_remark" type="string"/>
					<param name="shop_logo" type="string" />
					<param name="open_url" type="string" />
					<param name="weixin_code" type="string"/>
					<param name="nick_name" type="string" />
					<param name="phone_num" type="string" />
					<param name="open_sharing" type="string" />
					<param name="synchronization_token" type="string" />
					<param name="shop_preview_url" type="string"/>
					<param name="pc_introduce_url" type="string" />
					<param name="use_url" type="string" />
					<param name="live_url" type="string" />
					<param name="lecturer_title" type="string" />
					<param name="lecturer_identity" type="string" />
				</outputs>
			</function>

			<function name="createCourse">
				<auth>
					<accessToken require="Y" />

					<!--<timesLimit millisecond="100" />-->
				</auth>
				<inputs>
					<param name="course_title" type="rstring" require="Y,000100" />
					<param name="classify_id" type="string" require="N" />
					<param name="start_time" type="long" require="Y,000100"  />
					<param name="course_type" type="string" require="Y,000100"  format="^[0-2]$,100008"/>
					<param name="room_id" type="string" require="Y,000100"  />
					<param name="series_id" type="string" />
					<param name="updown" type="string" />
					<param name="course_price" type="double" require="N" validate="(course_type,course_price,course_password)=>{
						if(utils.isEqual('1', course_type)){
							if(utils.isEmpty(course_password)){
								return false;
							}
						} else if(utils.isEqual('2', course_type)){
							if(utils.isEmpty(course_price)){
								return false;
							}
						}
						return true;
					},000100"/>
					<param name="course_password" type="string" require="N" validate="(course_type,course_price,course_password)=>{
						if(utils.isEqual('1', course_type)){
							if(utils.isEmpty(course_password)){
								return false;
							}
						} else if(utils.isEqual('2', course_type)){
							if(utils.isEmpty(course_price)){
								return false;
							}
						}
						return true;
					},000100"/>
					<param name="course_url" type="string" require="N"  />
				</inputs>
				<outputs>
					<param name="course_id" type="string"/>
				</outputs>
			</function>


		</default>

		<version num="1.0.0" class="">
		</version>
	</server>

</servers>
