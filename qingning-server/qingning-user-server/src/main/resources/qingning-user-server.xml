<?xml version="1.0" encoding="UTF-8"?>
<servers>

	<server name="UserServer">
		<default class="qingning.user.server.imp.UserServerImpl">

			<function name="userFollowRoom">
				<auth>
					<access_token require="Y" />
					<timesLimit millisecond="100" />
				</auth>
				<inputs>
					<param name="room_id" type="string" require="Y,000100"  />
					<param name="follow_type" type="string" require="Y,000100"  />
				</inputs>
				<outputs>
				</outputs>
			</function>

			<function name="userCourses">
				<auth>
					<access_token require="Y" />
				</auth>
				<inputs>
					<param name="page_count" type="long" require="N"  />
					<param name="course_id" type="string" require="N"  />
				</inputs>
				<outputs>
				</outputs>
			</function>

			<function name="roomInfo">
				<auth>
					<access_token require="Y" />
				</auth>
				<inputs>
					<param name="room_id" type="string" require="Y,000100"  />
				</inputs>
				<outputs>
				</outputs>
			</function>

			<function name="courseDetailInfo">
				<auth>
					<access_token require="Y" />
				</auth>
				<inputs>
					<param name="course_id" type="string" require="Y,000100"  />
				</inputs>
				<outputs>
					<param name="course_type" type="string"/>
					<param name="status" type="string" fieldname="create_status"/>
					<param name="course_url" type="string"/>
					<param name="course_title" type="string"/>
					<param name="course_price" type="double"/>
					<param name="start_time" type="long"/>
					<param name="student_num" type="long"/>
					<param name="student_list" type="list"/>
					<param name="student_avatar_address" type="string"/>
					<param name="avatar_address" type="string"/>
					<param name="room_name" type="string"/>
					<param name="room_remark" type="string"/>
					<param name="course_remark" type="string"/>
					<param name="join_status" type="string"/>
					<param name="follow_status" type="string"/>
					<param name="room_id" type="string"/>
					<param name="roles" type="list"/>
				</outputs>
			</function>

			<function name="roomCourses">
				<auth>
					<access_token require="Y" />
				</auth>
				<inputs>
					<param name="room_id" type="string" require="Y,000100"  />
				</inputs>
				<outputs>
				</outputs>
			</function>

			<function name="joinCourse">
				<auth>
					<access_token require="Y" />
					<timesLimit millisecond="50" />
				</auth>
				<inputs>
					<param name="course_id" type="string" require="Y,000100"  />
				</inputs>
				<outputs>
				</outputs>
			</function>

			<function name="courseInfo">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="course_id" type="string" require="Y,000100"  />
					<param name="reward_update_time" type="long" require="N"  />
				</inputs>
				<outputs>
					<param name="ppt_list" type="list">
						<param name="image_id" type="string"/>
						<param name="image_url" type="string"/>
						<param name="image_pos" type="long"/>
					</param>

					<param name="audio_list" type="list">
						<param name="audio_id" type="string"/>
						<param name="audio_url" type="string"/>
						<param name="audio_pos" type="long"/>
						<param name="audio_time" type="long"/>
						<param name="create_time" type="long"/>
						<param name="audio_image" type="string"/>
					</param>

					<param name="reward_info" type="map">
						<param name="reward_update_time" type="long"/>
						<param name="reward_list" type="list">
							<param name="reward_id" type="string"/>
							<param name="amount" type="double"/>
							<param name="reward_pos" type="long"/>
						</param>
					</param>

					<param name="im_course_id" type="string"/>
					<param name="ban_status" type="string"/>
					<param name="student_num" type="long"/>
					<param name="start_time" type="long"/>
					<param name="status" type="string"/>
					<param name="course_type" type="string"/>
					<param name="course_password" type="string"/>
					<param name="share_url" type="string"/>
					<param name="course_update_time" type="long"/>
					<param name="course_title" type="string"/>
					<param name="lecturer_nick_name" type="string"/>
					<param name="lecturer_avatar_address" type="string"/>
				</outputs>
			</function>


			<function name="messageList">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="course_id" type="string" require="Y,000100"  />
				</inputs>
				<outputs>
				</outputs>
			</function>

			<function name="courseStudents">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="course_id" type="string" require="Y,000100"  />
				</inputs>
				<outputs>
				</outputs>
			</function>

			<function name="getUserConsumeRecords">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="page_count" type="long" require="N"  />
					<param name="position" type="long" require="N"  />
				</inputs>
				<outputs>
					<param name="record_list" type="list">
						<param name="profit_type" type="string" />
						<param name="course_id" type="string" />
						<param name="profit_amount" type="double" />
						<param name="create_time" type="long" />
						<param name="position" type="long" />
						<param name="course_title" type="string" convert="(course_title,profit_type)=>{
							if(!utils.isEqual(profit_type,'0')){
								return '';
							}
							return course_title;
						}"/>
						<param name="lecturer_name" type="string" convert="(lecturer_name,profit_type)=>{
							if(!utils.isEqual(profit_type,'1')){
								return '';
							}
							return lecturer_name;
						}"/>
					</param>
				</outputs>
			</function>

			<function name="noticeRooms">
				<auth>
					<accessToken require="Y" />
				</auth>
				<inputs>
					<param name="page_count" type="int"/>
					<param name="notice_create_time" type="date"/>
				</inputs>
				<outputs>
					<param name="live_room_list" type="list">
						<param name="avatar_address" type="string"/>
						<param name="room_name" type="string"/>
						<param name="status" type="string"/>
						<param name="course_title" type="string"/>
						<param name="course_id" type="string"/>
						<param name="course_type" type="string"/>
						<param name="start_time" type="long"/>
						<param name="room_id" type="string"/>
						<param name="notice_create_time" type="long" fieldname="create_time"/>
					</param>
				</outputs>
			</function>

			<function name="studyCourses">
				<auth>
					<accessToken require="Y" />
					<timesLimit millisecond="10" />
				</auth>
				<inputs>
					<param name="page_count" type="int"/>
					<param name="record_time" type="date"/>
				</inputs>
				<outputs>
					<param name="course_num" type="long"/>
					<param name="course_list" type="list">					
						<param name="course_id" type="string"/>
						<param name="course_title" type="string"/>
						<param name="course_type" type="string"/>
						<param name="course_url" type="string"/>
						<param name="lecturer_id" type="string"/>
						<param name="nick_name" type="string"/>
						<param name="start_time" type="long"/>
						<param name="room_id" type="string"/>
						<param name="record_time" type="long" fieldname="create_time"/>						
					</param>
				</outputs>
			</function>

		</default>

		<version num="1.0.0" class="">
		</version>
	</server>

</servers>
